package main;
/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */

/**
 *
 * @author Alyssa
 */
public class InterestCalculator extends javax.swing.JFrame {

    /**
     * Creates new form InterestCalculator
     */
    public InterestCalculator() {
        initComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        buttonGroup1 = new javax.swing.ButtonGroup();
        mainLabel = new javax.swing.JLabel();
        initInvestLabel = new javax.swing.JLabel();
        annualContrLabel = new javax.swing.JLabel();
        monthlyContrLabel = new javax.swing.JLabel();
        beginButton = new javax.swing.JRadioButton();
        endButton = new javax.swing.JRadioButton();
        IRLabel = new javax.swing.JLabel();
        compoundLabel = new javax.swing.JLabel();
        investLenLabel = new javax.swing.JLabel();
        calcButton = new javax.swing.JButton();
        clearButton = new javax.swing.JButton();
        midLabel1 = new javax.swing.JLabel();
        midLebel2 = new javax.swing.JLabel();
        closeButton = new javax.swing.JButton();
        resultsLabel = new javax.swing.JLabel();
        endBalanceLabel = new javax.swing.JLabel();
        totalPrinLabel = new javax.swing.JLabel();
        totalContrLabel = new javax.swing.JLabel();
        totalInterestLabel = new javax.swing.JLabel();
        interestOfInitLabel = new javax.swing.JLabel();
        interestOfContrLabel = new javax.swing.JLabel();
        initInvestField = new javax.swing.JTextField();
        annualContrField = new javax.swing.JTextField();
        monthlyContrField = new javax.swing.JTextField();
        IRField = new javax.swing.JTextField();
        investLenYField = new javax.swing.JTextField();
        investLenMField = new javax.swing.JTextField();
        yearsLabel = new javax.swing.JLabel();
        monthsLabel = new javax.swing.JLabel();
        compoundBox = new javax.swing.JComboBox<>();
        endBalanceLabel1 = new javax.swing.JLabel();
        totalPrinLabel1 = new javax.swing.JLabel();
        totalContrLabel1 = new javax.swing.JLabel();
        totalInterestLabel1 = new javax.swing.JLabel();
        interestOfInitLabel1 = new javax.swing.JLabel();
        interestOfContrLabel1 = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        mainLabel.setText("Interest Calculator");

        initInvestLabel.setText("Initial investment");

        annualContrLabel.setText("Annual contribution");

        monthlyContrLabel.setText("Monthly contribution");

        buttonGroup1.add(beginButton);
        beginButton.setSelected(true);
        beginButton.setText("beginning");
        beginButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                beginButtonActionPerformed(evt);
            }
        });

        buttonGroup1.add(endButton);
        endButton.setText("end");
        endButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                endButtonActionPerformed(evt);
            }
        });

        IRLabel.setText("Interest rate (%)");

        compoundLabel.setText("Compound");

        investLenLabel.setText("Investment length");

        calcButton.setText("Calculate");
        calcButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                calcButtonActionPerformed(evt);
            }
        });

        clearButton.setText("Clear");
        clearButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                clearButtonActionPerformed(evt);
            }
        });

        midLabel1.setText("Contribute at the");

        midLebel2.setText("of each compounding period");

        closeButton.setText("Close");
        closeButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                closeButtonActionPerformed(evt);
            }
        });

        resultsLabel.setText("Results");

        endBalanceLabel.setText("Ending balance");

        totalPrinLabel.setText("Total principal");

        totalContrLabel.setText("Total contributions");

        totalInterestLabel.setText("Total interest");

        interestOfInitLabel.setText("Interest of initial investment");

        interestOfContrLabel.setText("Interest of the contributions");

        initInvestField.setText("20000");
        initInvestField.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                initInvestFieldFocusLost(evt);
            }
        });
        initInvestField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                initInvestFieldKeyPressed(evt);
            }
        });

        annualContrField.setText("500");
        annualContrField.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                annualContrFieldFocusLost(evt);
            }
        });
        annualContrField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                annualContrFieldKeyPressed(evt);
            }
        });

        monthlyContrField.setText("0");
        monthlyContrField.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                monthlyContrFieldFocusLost(evt);
            }
        });
        monthlyContrField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                monthlyContrFieldKeyPressed(evt);
            }
        });

        IRField.setText("5");
        IRField.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                IRFieldFocusLost(evt);
            }
        });
        IRField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                IRFieldKeyPressed(evt);
            }
        });

        investLenYField.setText("10");
        investLenYField.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                investLenYFieldFocusLost(evt);
            }
        });
        investLenYField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                investLenYFieldKeyPressed(evt);
            }
        });

        investLenMField.setText("6");
        investLenMField.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                investLenMFieldFocusLost(evt);
            }
        });
        investLenMField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                investLenMFieldKeyPressed(evt);
            }
        });

        yearsLabel.setText("years");

        monthsLabel.setText("months");

        compoundBox.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "annually", "semiannually", "quarterly", "monthly", "semimonthly", "biweekly", "weekly", "daily", "continuously" }));

        endBalanceLabel1.setText("$40,408.17");

        totalPrinLabel1.setText("$25,500.00");

        totalContrLabel1.setText("$5,500.00");

        totalInterestLabel1.setText("$14,908.17");

        interestOfInitLabel1.setText("$13,382.41");

        interestOfContrLabel1.setText("$1,525.76");

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(mainLabel)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(closeButton))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                        .addGap(17, 17, 17)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(initInvestLabel)
                            .addGroup(layout.createSequentialGroup()
                                .addGap(82, 82, 82)
                                .addComponent(midLebel2))
                            .addGroup(layout.createSequentialGroup()
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(annualContrLabel)
                                    .addComponent(monthlyContrLabel))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(annualContrField, javax.swing.GroupLayout.DEFAULT_SIZE, 142, Short.MAX_VALUE)
                                    .addComponent(initInvestField)
                                    .addComponent(monthlyContrField)))
                            .addGroup(layout.createSequentialGroup()
                                .addGap(56, 56, 56)
                                .addComponent(calcButton)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(clearButton))
                            .addGroup(layout.createSequentialGroup()
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(IRLabel)
                                    .addComponent(compoundLabel))
                                .addGap(38, 38, 38)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                    .addComponent(compoundBox, javax.swing.GroupLayout.Alignment.LEADING, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(IRField, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 142, javax.swing.GroupLayout.PREFERRED_SIZE)))
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(investLenLabel)
                                .addGap(27, 27, 27)
                                .addComponent(investLenYField, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(5, 5, 5)
                                .addComponent(yearsLabel)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(investLenMField, javax.swing.GroupLayout.PREFERRED_SIZE, 36, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(monthsLabel))))
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                        .addGap(70, 70, 70)
                        .addComponent(midLabel1)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(beginButton)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(endButton)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(198, 198, 198)
                        .addComponent(resultsLabel))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(167, 167, 167)
                        .addComponent(totalInterestLabel))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(82, 82, 82)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(endBalanceLabel, javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(totalPrinLabel, javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(totalContrLabel, javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(interestOfInitLabel, javax.swing.GroupLayout.Alignment.TRAILING)))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                        .addGap(83, 83, 83)
                        .addComponent(interestOfContrLabel)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(endBalanceLabel1)
                    .addComponent(totalPrinLabel1)
                    .addComponent(totalContrLabel1)
                    .addComponent(totalInterestLabel1)
                    .addComponent(interestOfInitLabel1)
                    .addComponent(interestOfContrLabel1))
                .addContainerGap(237, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(mainLabel))
                    .addComponent(closeButton, javax.swing.GroupLayout.Alignment.TRAILING))
                .addGap(51, 51, 51)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(initInvestLabel)
                            .addComponent(initInvestField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(annualContrLabel)
                            .addComponent(annualContrField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(monthlyContrLabel)
                            .addComponent(monthlyContrField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(15, 15, 15)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(endButton)
                            .addComponent(beginButton)
                            .addComponent(midLabel1))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(midLebel2)
                        .addGap(18, 18, 18)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(IRLabel)
                            .addComponent(IRField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(compoundLabel)
                            .addComponent(compoundBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(investLenLabel)
                            .addComponent(investLenYField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(yearsLabel)
                            .addComponent(investLenMField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(monthsLabel))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 82, Short.MAX_VALUE)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(calcButton)
                            .addComponent(clearButton))
                        .addGap(49, 49, 49))
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(resultsLabel)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(endBalanceLabel)
                            .addComponent(endBalanceLabel1))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(totalPrinLabel)
                            .addComponent(totalPrinLabel1))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(totalContrLabel)
                            .addComponent(totalContrLabel1))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(totalInterestLabel)
                            .addComponent(totalInterestLabel1))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(interestOfInitLabel)
                            .addComponent(interestOfInitLabel1))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(interestOfContrLabel)
                            .addComponent(interestOfContrLabel1))
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void calcButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_calcButtonActionPerformed
        // function is the "calculator" part
        double ii = Double.parseDouble(initInvestField.getText().replaceAll(",", ""));
        double ac = Double.parseDouble(annualContrField.getText().replaceAll(",", ""));
        double mc = Double.parseDouble(monthlyContrField.getText().replaceAll(",", ""));
        double ir = Double.parseDouble(IRField.getText().replaceAll(",", ""));
        double ilY = Double.parseDouble(investLenYField.getText().replaceAll(",", ""));
        double ilM = Double.parseDouble(investLenMField.getText().replaceAll(",", "").strip());
        
        
        int cb = determineCompound();
        double interestOfInitVar = calcIntInit(cb, ii, ir, ilY, ilM);
        
        double totalContrVar = (ac * ilY) + (mc * ilY * 12) +  (mc * ilM);
        if (ilM > 0){
            totalContrVar += ac;
        }
        double totalPrinVar = ii + totalContrVar;
        double endBalanceVar = calcEndBalance(cb, ii, ir, ilY, ilM, ac, mc);
        double totalInterestVar = endBalanceVar - totalPrinVar;
        double interestOfContrVar = calcEndBalance(cb, 0, ir, ilY, ilM, ac, mc) - totalPrinVar + ii ;
        
        setResultsLabelsVisible();
        
        totalPrinLabel1.setText("$" + String.format("%,.2f", totalPrinVar));
        totalContrLabel1.setText("$" + String.format("%,.2f", totalContrVar));
        totalInterestLabel1.setText("$" + String.format("%,.2f", totalInterestVar));
        interestOfInitLabel1.setText("$" + String.format("%,.2f", interestOfInitVar));
        interestOfContrLabel1.setText("$" + String.format("%,.2f", interestOfContrVar));
        endBalanceLabel1.setText("$" + String.format("%,.2f", endBalanceVar));
        
        if (endBalanceVar == 0) {
            endBalanceLabel1.setText("$" + String.format("%,.2f", totalPrinVar));
            totalInterestLabel1.setText("$0.00");
            interestOfContrLabel1.setText("$0.00");
        }
    }//GEN-LAST:event_calcButtonActionPerformed

    private void clearButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_clearButtonActionPerformed
        setResultsLabelsNotVisible();
        calcButton.setEnabled(false);
        initInvestField.setText("");
        annualContrField.setText("");
        monthlyContrField.setText("");
        IRField.setText("");
        investLenYField.setText("");
        investLenMField.setText("");
        buttonGroup1.clearSelection();
    }//GEN-LAST:event_clearButtonActionPerformed

    private void closeButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_closeButtonActionPerformed
        this.dispose();
    }//GEN-LAST:event_closeButtonActionPerformed

    private void initInvestFieldKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_initInvestFieldKeyPressed
        // if "enter" key pressed, check if input is valid
        // if all fields have an input, enable calcButton
        if (evt.getKeyCode() == 10) {
            if (initInvestField.getText().strip().compareTo("") != 0) {
               if (! (MainHelper.isValidNumber(initInvestField.getText().replaceAll(",", "")))){
                    initInvestField.setText("");
                    initInvestField.requestFocus();
                    calcButton.setEnabled(false);
                    setResultsLabelsNotVisible();
  
                } 
               else {
                    if (initInvestField.getText().strip().compareTo("") == 0){
                    annualContrField.requestFocus();
                    }
                    if (allFieldsHaveValue()) {
                       calcButton.setEnabled(true);
                    }
               }
            }
        }
    }//GEN-LAST:event_initInvestFieldKeyPressed

    private void initInvestFieldFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_initInvestFieldFocusLost
        // checks for valid input
        // if all fields have an input, enable calcButton
        if (initInvestField.getText().strip().compareTo("") != 0) {
            if (! (MainHelper.isValidNumber(initInvestField.getText().replaceAll(",", "")))){
                initInvestField.setText("");
                initInvestField.requestFocus();
                calcButton.setEnabled(false);
                setResultsLabelsNotVisible();
            } 
            else {
                if (initInvestField.getText().strip().compareTo("") == 0){
                    annualContrField.requestFocus();
                }
                if (allFieldsHaveValue()) {
                    calcButton.setEnabled(true);
                }
            }
        } else{
            initInvestField.setText("0");
            if (allFieldsHaveValue()) {
                    calcButton.setEnabled(true);
                }
        }
    }//GEN-LAST:event_initInvestFieldFocusLost

    private void annualContrFieldKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_annualContrFieldKeyPressed
        // if "enter" key pressed, check if input is valid
        // if all fields have an input, enable calcButton
        if (evt.getKeyCode() == 10) {
            if (annualContrField.getText().strip().compareTo("") != 0) {
               if (! (MainHelper.isValidNumber(annualContrField.getText().replaceAll(",", "")))){
                    annualContrField.setText("");
                    annualContrField.requestFocus();
                    calcButton.setEnabled(false);
                    setResultsLabelsNotVisible();
  
                } 
               else {
                    if (annualContrField.getText().strip().compareTo("") == 0){
                    monthlyContrField.requestFocus();
                    }
                    if (allFieldsHaveValue()) {
                       calcButton.setEnabled(true);
                    }
               }
            }
        }
    }//GEN-LAST:event_annualContrFieldKeyPressed

    private void annualContrFieldFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_annualContrFieldFocusLost
        // checks for valid input
        // if all fields have an input, enable calcButton
        if (annualContrField.getText().strip().compareTo("") != 0) {
            if (! (MainHelper.isValidNumber(annualContrField.getText().replaceAll(",", "")))){
                annualContrField.setText("");
                annualContrField.requestFocus();
                calcButton.setEnabled(false);
                setResultsLabelsNotVisible();
            } 
            else {
                if (annualContrField.getText().strip().compareTo("") == 0){
                    monthlyContrField.requestFocus();
                }
                if (allFieldsHaveValue()) {
                    calcButton.setEnabled(true);
                }
            }
        } else{
            annualContrField.setText("0");
            if (allFieldsHaveValue()) {
                    calcButton.setEnabled(true);
                }
        }
    }//GEN-LAST:event_annualContrFieldFocusLost

    private void monthlyContrFieldKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_monthlyContrFieldKeyPressed
        // if "enter" key pressed, check if input is valid
        // if all fields have an input, enable calcButton
        if (evt.getKeyCode() == 10) {
            if (monthlyContrField.getText().strip().compareTo("") != 0) {
               if (! (MainHelper.isValidNumber(monthlyContrField.getText().replaceAll(",", "")))){
                    monthlyContrField.setText("");
                    monthlyContrField.requestFocus();
                    calcButton.setEnabled(false);
                    setResultsLabelsNotVisible();
  
                } 
               else {
                    if (monthlyContrField.getText().strip().compareTo("") == 0){
                    IRField.requestFocus();
                    }
                    if (allFieldsHaveValue()) {
                       calcButton.setEnabled(true);
                    }
               }
            }
        }
    }//GEN-LAST:event_monthlyContrFieldKeyPressed

    private void monthlyContrFieldFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_monthlyContrFieldFocusLost
        // checks for valid input
        // if all fields have an input, enable calcButton
        if (monthlyContrField.getText().strip().compareTo("") != 0) {
            if (! (MainHelper.isValidNumber(monthlyContrField.getText().replaceAll(",", "")))){
                monthlyContrField.setText("");
                monthlyContrField.requestFocus();
                calcButton.setEnabled(false);
                setResultsLabelsNotVisible();
            } 
            else {
                if (monthlyContrField.getText().strip().compareTo("") == 0){
                    IRField.requestFocus();
                }
                if (allFieldsHaveValue()) {
                    calcButton.setEnabled(true);
                }
            }
        } else{
            monthlyContrField.setText("0");
            if (allFieldsHaveValue()) {
                    calcButton.setEnabled(true);
                }
        }
    }//GEN-LAST:event_monthlyContrFieldFocusLost

    private void IRFieldKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_IRFieldKeyPressed
        // if "enter" key pressed, check if input is valid
        // if all fields have an input, enable calcButton
        if (evt.getKeyCode() == 10) {
            if (IRField.getText().strip().compareTo("") != 0) {
               if (! (MainHelper.isValidNumber(IRField.getText().replaceAll(",", "")))){
                    IRField.setText("");
                    IRField.requestFocus();
                    calcButton.setEnabled(false);
                    setResultsLabelsNotVisible();
  
                } 
               else {
                    if (IRField.getText().strip().compareTo("") == 0){
                    investLenYField.requestFocus();
                    }
                    if (allFieldsHaveValue()) {
                       calcButton.setEnabled(true);
                    }
               }
            }
        }
    }//GEN-LAST:event_IRFieldKeyPressed

    private void IRFieldFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_IRFieldFocusLost
        // checks for valid input
        // if all fields have an input, enable calcButton
        if (IRField.getText().strip().compareTo("") != 0) {
            if (! (MainHelper.isValidNumber(IRField.getText().replaceAll(",", "")))){
                IRField.setText("");
                IRField.requestFocus();
                calcButton.setEnabled(false);
                setResultsLabelsNotVisible();
            } 
            else {
                if (IRField.getText().strip().compareTo("") == 0){
                    investLenYField.requestFocus();
                }
                if (allFieldsHaveValue()) {
                    calcButton.setEnabled(true);
                }
            }
        } else{
            IRField.setText("0");
            if (allFieldsHaveValue()) {
                    calcButton.setEnabled(true);
                }
        }
    }//GEN-LAST:event_IRFieldFocusLost

    private void investLenYFieldKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_investLenYFieldKeyPressed
        // if "enter" key pressed, check if input is valid
        // if all fields have an input, enable calcButton
        if (evt.getKeyCode() == 10) {
            if (investLenYField.getText().strip().compareTo("") != 0) {
               if (! (MainHelper.isValidNumber(investLenYField.getText().replaceAll(",", "")))){
                    investLenYField.setText("");
                    investLenYField.requestFocus();
                    calcButton.setEnabled(false);
                    setResultsLabelsNotVisible();
  
                } 
               else {
                    if (investLenYField.getText().strip().compareTo("") == 0){
                    investLenMField.requestFocus();
                    }
                    if (allFieldsHaveValue()) {
                       calcButton.setEnabled(true);
                    }
               }
            }
        }
    }//GEN-LAST:event_investLenYFieldKeyPressed

    private void investLenYFieldFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_investLenYFieldFocusLost
        // checks for valid input
        // if all fields have an input, enable calcButton
        if (investLenYField.getText().strip().compareTo("") != 0) {
            if (! (MainHelper.isValidNumber(investLenYField.getText().replaceAll(",", "")))){
                investLenYField.setText("");
                investLenYField.requestFocus();
                calcButton.setEnabled(false);
                setResultsLabelsNotVisible();
            } 
            else {
                if (investLenYField.getText().strip().compareTo("") == 0){
                    investLenMField.requestFocus();
                }
                if (allFieldsHaveValue()) {
                    calcButton.setEnabled(true);
                }
            }
        } else{
            investLenYField.setText("0");
            if (allFieldsHaveValue()) {
                    calcButton.setEnabled(true);
                }
        }
    }//GEN-LAST:event_investLenYFieldFocusLost

    private void investLenMFieldKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_investLenMFieldKeyPressed
        // if "enter" key pressed, check if input is valid
        // if all fields have an input, enable calcButton
        if (evt.getKeyCode() == 10) {
            if (investLenMField.getText().strip().compareTo("") != 0) {
               if (! (MainHelper.isValidNumber(investLenMField.getText().replaceAll(",", "")))){
                    investLenMField.setText("");
                    investLenMField.requestFocus();
                    calcButton.setEnabled(false);
                    setResultsLabelsNotVisible();
  
                } 
               else {
                    if (allFieldsHaveValue()) {
                       calcButton.setEnabled(true);
                    }
               }
            }
        }
    }//GEN-LAST:event_investLenMFieldKeyPressed

    private void investLenMFieldFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_investLenMFieldFocusLost
        // checks for valid input
        // if all fields have an input, enable calcButton
        if (investLenMField.getText().strip().compareTo("") != 0) {
            if (! (MainHelper.isValidNumber(investLenMField.getText().replaceAll(",", "")))){
                investLenMField.setText("");
                investLenMField.requestFocus();
                calcButton.setEnabled(false);
                setResultsLabelsNotVisible();
            } 
            else {
                if (allFieldsHaveValue()) {
                    calcButton.setEnabled(true);
                }
            }
        } else{
            investLenMField.setText("0");
            if (allFieldsHaveValue()) {
                    calcButton.setEnabled(true);
                }
        }
    }//GEN-LAST:event_investLenMFieldFocusLost

    private void beginButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_beginButtonActionPerformed
        if (allFieldsHaveValue()) {
            calcButton.setEnabled(true);
        }
    }//GEN-LAST:event_beginButtonActionPerformed

    private void endButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_endButtonActionPerformed
        if (allFieldsHaveValue()) {
            calcButton.setEnabled(true);
        }
    }//GEN-LAST:event_endButtonActionPerformed

    private void setResultsLabelsNotVisible() {
        endBalanceLabel1.setVisible(false);
        totalPrinLabel1.setVisible(false);
        totalContrLabel1.setVisible(false);
        totalInterestLabel1.setVisible(false);
        interestOfInitLabel1.setVisible(false);
        interestOfContrLabel1.setVisible(false);
    }
    
    private void setResultsLabelsVisible() {
        endBalanceLabel1.setVisible(true);
        totalPrinLabel1.setVisible(true);
        totalContrLabel1.setVisible(true);
        totalInterestLabel1.setVisible(true);
        interestOfInitLabel1.setVisible(true);
        interestOfContrLabel1.setVisible(true);
        
    }
    
    private boolean allFieldsHaveValue() {
        int ii = initInvestField.getText().strip().compareTo("");
        int ac = annualContrField.getText().strip().compareTo("");
        int mc = monthlyContrField.getText().strip().compareTo("");
        int ir = IRField.getText().strip().compareTo("");
        int ilY = investLenYField.getText().strip().compareTo("");
        int ilM = investLenMField.getText().strip().compareTo("");
        return ii != 0 && ac != 0 && mc != 0 && ir != 0 && ilY != 0 && ilM != 0 
                && (beginButton.isSelected() || endButton.isSelected());
    }
    
    public int determineCompound(){
        if (compoundBox.getSelectedItem() == "annually"){
            return 1;
        }
        if (compoundBox.getSelectedItem() == "semiannually"){
            return 2;
        }
        if (compoundBox.getSelectedItem() == "quarterly"){
            return 4;
        }
        if (compoundBox.getSelectedItem() == "monthly"){
            return 12;
        }
        if (compoundBox.getSelectedItem() == "semimonthly"){
            return 24;
        }
        if (compoundBox.getSelectedItem() == "biweekly"){
            return 26;
        }
        if (compoundBox.getSelectedItem() == "weekly"){
            return 52;
        }
        if (compoundBox.getSelectedItem() == "daily"){
            return 365;
        }
        if (compoundBox.getSelectedItem() == "continuously"){
            return 0;
        }
        return 0;
    }
    
    public double calcIntInit(int cb, double ii, double ir, double ilY, double ilM){
        if (ir == 0){
            return 0;
        }
        double Y = ilY + (ilM / 12);
        double r = ir / 100;
        if (cb == 0){
            return (ii * Math.exp(Y * r)) - ii;
        } else {
            return (ii * Math.pow(1 + (r / cb), cb * Y )) - ii;
        }
    }
    
    public double calcEndBalance(int cb, double ii, double ir, double ilY, double ilM, double ac, double mc){
        if (ir == 0){
            return 0;
        }
        double Y = ilY + (ilM / 12);
        double r = ir / 100;
        double c = ac + (mc / 12);
        
        if (cb == 0){
            // i think it works now?!
            if (beginButton.isSelected()){
                return (ii * Math.exp(Y * r)) + (c / r) * (Math.exp(Y * r) 
                    - 1);
            } else {
                return (ii * Math.exp(Y * r)) + (c / r) * (Math.exp(Y * r) 
                    - Math.exp(r));
            }
            
        } else {
            // does work :D
            if (beginButton.isSelected()){
                return (ii * Math.pow(1 + (r / cb), cb * Y)) + c * 
                    (((Math.pow(1 + (r / cb), (cb * Y) + 1) - (1 + (r / cb))) / (r)));
                
            } else {
                return (ii * Math.pow(1 + (r / cb), cb * Y)) + c * 
                    (((Math.pow(1 + (r / cb), cb * Y) - 1) / (r)));
            }
        }
    }

    
    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(InterestCalculator.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(InterestCalculator.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(InterestCalculator.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(InterestCalculator.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new InterestCalculator().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JTextField IRField;
    private javax.swing.JLabel IRLabel;
    private javax.swing.JTextField annualContrField;
    private javax.swing.JLabel annualContrLabel;
    private javax.swing.JRadioButton beginButton;
    private javax.swing.ButtonGroup buttonGroup1;
    private javax.swing.JButton calcButton;
    private javax.swing.JButton clearButton;
    private javax.swing.JButton closeButton;
    private javax.swing.JComboBox<String> compoundBox;
    private javax.swing.JLabel compoundLabel;
    private javax.swing.JLabel endBalanceLabel;
    private javax.swing.JLabel endBalanceLabel1;
    private javax.swing.JRadioButton endButton;
    private javax.swing.JTextField initInvestField;
    private javax.swing.JLabel initInvestLabel;
    private javax.swing.JLabel interestOfContrLabel;
    private javax.swing.JLabel interestOfContrLabel1;
    private javax.swing.JLabel interestOfInitLabel;
    private javax.swing.JLabel interestOfInitLabel1;
    private javax.swing.JLabel investLenLabel;
    private javax.swing.JTextField investLenMField;
    private javax.swing.JTextField investLenYField;
    private javax.swing.JLabel mainLabel;
    private javax.swing.JLabel midLabel1;
    private javax.swing.JLabel midLebel2;
    private javax.swing.JTextField monthlyContrField;
    private javax.swing.JLabel monthlyContrLabel;
    private javax.swing.JLabel monthsLabel;
    private javax.swing.JLabel resultsLabel;
    private javax.swing.JLabel totalContrLabel;
    private javax.swing.JLabel totalContrLabel1;
    private javax.swing.JLabel totalInterestLabel;
    private javax.swing.JLabel totalInterestLabel1;
    private javax.swing.JLabel totalPrinLabel;
    private javax.swing.JLabel totalPrinLabel1;
    private javax.swing.JLabel yearsLabel;
    // End of variables declaration//GEN-END:variables
}
